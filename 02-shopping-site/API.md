# API - Shopping Site

Base URL: `https://api.shopping.site/v1/` 

## Generic Responses 

### Success 

```json
{
    "status": "success",
    "code": 200,
    "message": "Success message",
    "data": {},
    "meta": {
        "page": 1,
        "limit": 10,
        "total": 100
    }
}
```

### Errors

```json
{
    "status": "error",
    "code": 400,
    "message": "Bad Request",
    "data": {},
    "meta": {}
}
```

## Authentication 

**Header**

```
Authorization: Token <token>
```

## Endpoints

### User 

### Address

### Product 

### Cart 

### Order 

### Payment



## Notes 

## REST API Principles 

- "users", "products" 
  - entities / resources 
  - used as "nouns"
  - part of the URL path 

- "create", "update", "delete"
  - actions 
  - used as "verbs"
  - part of the HTTP method


### HTTP Methods 

- GET               fetch/find/search
- POST              create/submit 
- PUT               create/replace       
- DELETE            remove/delete
- PATCH             update/modify
- OPTIONS           get supported methods
- HEAD              get headers only / connectivity testing

### Idempotent Methods 

- GET
- PUT
- DELETE

### POST / PUT - differences in creating 

- `POST /products` 
  - create a new product
  - new entity id is generated by the server
- `PUT /products/123` 
  - create a new product with id 123
  - client is specifying the id

### PUT / PATCH - differences in updating

CASE A:
    Product ID: 123
    `{a: 10, b: 20}`

CASE B:
    Product ID: 123
    `does not exist`

- `PUT /products/123` 
  - body: `{b: 30, c: 40}`
  - replace the product with id 123 or create it
  - client is sending the complete entity
  - CASE A: `{b: 30, c: 40}`
  - CASE B: `{b: 30, c: 40}`

- `PATCH /products/123`
  - body: `{b: 30, c: 40}`
  - update the product with id 123
  - client can send partial entity
  - CASE A: `{a: 10, b: 30, c: 40}`
  - CASE B: `404 : product with id 123 does not exist`

- Using `PATCH` for delta operations 
  - `PATCH /products/123` 
    ```
    {
        "quantity": { "add": 10 }
    }
    ```
